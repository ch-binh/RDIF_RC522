ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"spi.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Src/spi.c"
  18              		.section	.text.MX_SPI1_Init,"ax",%progbits
  19              		.align	1
  20              		.global	MX_SPI1_Init
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	MX_SPI1_Init:
  26              	.LFB65:
   1:Src/spi.c     **** /* USER CODE BEGIN Header */
   2:Src/spi.c     **** /**
   3:Src/spi.c     ****  ******************************************************************************
   4:Src/spi.c     ****  * @file    spi.c
   5:Src/spi.c     ****  * @brief   This file provides code for the configuration
   6:Src/spi.c     ****  *          of the SPI instances.
   7:Src/spi.c     ****  ******************************************************************************
   8:Src/spi.c     ****  * @attention
   9:Src/spi.c     ****  *
  10:Src/spi.c     ****  * Copyright (c) 2025 STMicroelectronics.
  11:Src/spi.c     ****  * All rights reserved.
  12:Src/spi.c     ****  *
  13:Src/spi.c     ****  * This software is licensed under terms that can be found in the LICENSE file
  14:Src/spi.c     ****  * in the root directory of this software component.
  15:Src/spi.c     ****  * If no LICENSE file comes with this software, it is provided AS-IS.
  16:Src/spi.c     ****  *
  17:Src/spi.c     ****  ******************************************************************************
  18:Src/spi.c     ****  */
  19:Src/spi.c     **** /* USER CODE END Header */
  20:Src/spi.c     **** /* Includes ------------------------------------------------------------------*/
  21:Src/spi.c     **** #include "../Inc/spi.h"
  22:Src/spi.c     **** #include "../Inc/board_config.h"
  23:Src/spi.c     **** 
  24:Src/spi.c     **** SPI_HandleTypeDef hspi1;
  25:Src/spi.c     **** 
  26:Src/spi.c     **** void MX_SPI1_Init(void)
  27:Src/spi.c     **** {
  27              		.loc 1 27 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 08B5     		push	{r3, lr}
ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 2


  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 3, -8
  35              		.cfi_offset 14, -4
  28:Src/spi.c     ****   hspi1.Instance = SPI1_INSTANCE;
  36              		.loc 1 28 3 view .LVU1
  37              		.loc 1 28 18 is_stmt 0 view .LVU2
  38 0002 0E48     		ldr	r0, .L5
  39 0004 0E4B     		ldr	r3, .L5+4
  40 0006 0360     		str	r3, [r0]
  29:Src/spi.c     ****   hspi1.Init.Mode = SPI1_MODE;
  41              		.loc 1 29 3 is_stmt 1 view .LVU3
  42              		.loc 1 29 19 is_stmt 0 view .LVU4
  43 0008 4FF48273 		mov	r3, #260
  44 000c 4360     		str	r3, [r0, #4]
  30:Src/spi.c     ****   hspi1.Init.Direction = SPI_DIRECTION_2LINES;
  45              		.loc 1 30 3 is_stmt 1 view .LVU5
  46              		.loc 1 30 24 is_stmt 0 view .LVU6
  47 000e 0023     		movs	r3, #0
  48 0010 8360     		str	r3, [r0, #8]
  31:Src/spi.c     ****   hspi1.Init.DataSize = SPI_DATASIZE_8BIT;
  49              		.loc 1 31 3 is_stmt 1 view .LVU7
  50              		.loc 1 31 23 is_stmt 0 view .LVU8
  51 0012 C360     		str	r3, [r0, #12]
  32:Src/spi.c     ****   hspi1.Init.CLKPolarity = SPI_POLARITY_LOW;
  52              		.loc 1 32 3 is_stmt 1 view .LVU9
  53              		.loc 1 32 26 is_stmt 0 view .LVU10
  54 0014 0361     		str	r3, [r0, #16]
  33:Src/spi.c     ****   hspi1.Init.CLKPhase = SPI_PHASE_1EDGE;
  55              		.loc 1 33 3 is_stmt 1 view .LVU11
  56              		.loc 1 33 23 is_stmt 0 view .LVU12
  57 0016 4361     		str	r3, [r0, #20]
  34:Src/spi.c     ****   hspi1.Init.NSS = SPI_NSS_SOFT;
  58              		.loc 1 34 3 is_stmt 1 view .LVU13
  59              		.loc 1 34 18 is_stmt 0 view .LVU14
  60 0018 4FF40072 		mov	r2, #512
  61 001c 8261     		str	r2, [r0, #24]
  35:Src/spi.c     ****   hspi1.Init.BaudRatePrescaler = SPI1_BUARDRATEPRESCALER;
  62              		.loc 1 35 3 is_stmt 1 view .LVU15
  63              		.loc 1 35 32 is_stmt 0 view .LVU16
  64 001e 3022     		movs	r2, #48
  65 0020 C261     		str	r2, [r0, #28]
  36:Src/spi.c     ****   hspi1.Init.FirstBit = SPI_FIRSTBIT_MSB;
  66              		.loc 1 36 3 is_stmt 1 view .LVU17
  67              		.loc 1 36 23 is_stmt 0 view .LVU18
  68 0022 0362     		str	r3, [r0, #32]
  37:Src/spi.c     ****   hspi1.Init.TIMode = SPI_TIMODE_DISABLE;
  69              		.loc 1 37 3 is_stmt 1 view .LVU19
  70              		.loc 1 37 21 is_stmt 0 view .LVU20
  71 0024 4362     		str	r3, [r0, #36]
  38:Src/spi.c     ****   hspi1.Init.CRCCalculation = SPI1_CRC;
  72              		.loc 1 38 3 is_stmt 1 view .LVU21
  73              		.loc 1 38 29 is_stmt 0 view .LVU22
  74 0026 8362     		str	r3, [r0, #40]
  39:Src/spi.c     ****   hspi1.Init.CRCPolynomial = 10;
  75              		.loc 1 39 3 is_stmt 1 view .LVU23
  76              		.loc 1 39 28 is_stmt 0 view .LVU24
ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 3


  77 0028 0A23     		movs	r3, #10
  78 002a C362     		str	r3, [r0, #44]
  40:Src/spi.c     ****   if (HAL_SPI_Init(&hspi1) != HAL_OK)
  79              		.loc 1 40 3 is_stmt 1 view .LVU25
  80              		.loc 1 40 7 is_stmt 0 view .LVU26
  81 002c FFF7FEFF 		bl	HAL_SPI_Init
  82              	.LVL0:
  83              		.loc 1 40 6 view .LVU27
  84 0030 00B9     		cbnz	r0, .L4
  85              	.L1:
  41:Src/spi.c     ****   {
  42:Src/spi.c     ****     Error_Handler();
  43:Src/spi.c     ****   }
  44:Src/spi.c     **** }
  86              		.loc 1 44 1 view .LVU28
  87 0032 08BD     		pop	{r3, pc}
  88              	.L4:
  42:Src/spi.c     ****   }
  89              		.loc 1 42 5 is_stmt 1 view .LVU29
  90 0034 FFF7FEFF 		bl	Error_Handler
  91              	.LVL1:
  92              		.loc 1 44 1 is_stmt 0 view .LVU30
  93 0038 FBE7     		b	.L1
  94              	.L6:
  95 003a 00BF     		.align	2
  96              	.L5:
  97 003c 00000000 		.word	hspi1
  98 0040 00300140 		.word	1073819648
  99              		.cfi_endproc
 100              	.LFE65:
 102              		.section	.text.HAL_SPI_MspInit,"ax",%progbits
 103              		.align	1
 104              		.global	HAL_SPI_MspInit
 105              		.syntax unified
 106              		.thumb
 107              		.thumb_func
 109              	HAL_SPI_MspInit:
 110              	.LVL2:
 111              	.LFB66:
  45:Src/spi.c     **** 
  46:Src/spi.c     **** void HAL_SPI_MspInit(SPI_HandleTypeDef *spiHandle)
  47:Src/spi.c     **** {
 112              		.loc 1 47 1 is_stmt 1 view -0
 113              		.cfi_startproc
 114              		@ args = 0, pretend = 0, frame = 24
 115              		@ frame_needed = 0, uses_anonymous_args = 0
 116              		.loc 1 47 1 is_stmt 0 view .LVU32
 117 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 118              	.LCFI1:
 119              		.cfi_def_cfa_offset 20
 120              		.cfi_offset 4, -20
 121              		.cfi_offset 5, -16
 122              		.cfi_offset 6, -12
 123              		.cfi_offset 7, -8
 124              		.cfi_offset 14, -4
 125 0002 87B0     		sub	sp, sp, #28
 126              	.LCFI2:
ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 4


 127              		.cfi_def_cfa_offset 48
  48:Src/spi.c     **** 
  49:Src/spi.c     ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
 128              		.loc 1 49 3 is_stmt 1 view .LVU33
 129              		.loc 1 49 20 is_stmt 0 view .LVU34
 130 0004 0023     		movs	r3, #0
 131 0006 0293     		str	r3, [sp, #8]
 132 0008 0393     		str	r3, [sp, #12]
 133 000a 0493     		str	r3, [sp, #16]
 134 000c 0593     		str	r3, [sp, #20]
  50:Src/spi.c     ****   if (spiHandle->Instance == SPI1)
 135              		.loc 1 50 3 is_stmt 1 view .LVU35
 136              		.loc 1 50 16 is_stmt 0 view .LVU36
 137 000e 0268     		ldr	r2, [r0]
 138              		.loc 1 50 6 view .LVU37
 139 0010 254B     		ldr	r3, .L11
 140 0012 9A42     		cmp	r2, r3
 141 0014 01D0     		beq	.L10
 142              	.LVL3:
 143              	.L7:
  51:Src/spi.c     ****   {
  52:Src/spi.c     ****     /* SPI1 clock enable */
  53:Src/spi.c     ****     SPI1_CLK_ENABLE();
  54:Src/spi.c     ****     SPI1_GPIO_CLK_ENABLE();
  55:Src/spi.c     **** 
  56:Src/spi.c     ****     /**SPI1 GPIO Configuration
  57:Src/spi.c     ****     PA2     ------> SPI1_CS
  58:Src/spi.c     ****     PA5     ------> SPI1_SCK
  59:Src/spi.c     ****     PA6     ------> SPI1_MISO
  60:Src/spi.c     ****     PA7     ------> SPI1_MOSI
  61:Src/spi.c     ****     */
  62:Src/spi.c     ****     /*Configure GPIO pin : PA2 */
  63:Src/spi.c     ****     GPIO_InitStruct.Pin = RC522_CS_PIN;
  64:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
  65:Src/spi.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
  66:Src/spi.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
  67:Src/spi.c     ****     HAL_GPIO_Init(RC522_CS_GPIO, &GPIO_InitStruct);
  68:Src/spi.c     ****     HAL_GPIO_WritePin(RC522_CS_GPIO, RC522_CS_PIN, GPIO_PIN_SET);
  69:Src/spi.c     **** 
  70:Src/spi.c     ****     GPIO_InitStruct.Pin = SPI1_SCK_PIN;
  71:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  72:Src/spi.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
  73:Src/spi.c     ****     HAL_GPIO_Init(SPI1_SCK_PORT, &GPIO_InitStruct);
  74:Src/spi.c     **** 
  75:Src/spi.c     ****     GPIO_InitStruct.Pin = SPI1_MOSI_PIN;
  76:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  77:Src/spi.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
  78:Src/spi.c     ****     HAL_GPIO_Init(SPI1_MOSI_PORT, &GPIO_InitStruct);
  79:Src/spi.c     **** 
  80:Src/spi.c     ****     GPIO_InitStruct.Pin = SPI1_MISO_PIN;
  81:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
  82:Src/spi.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
  83:Src/spi.c     ****     HAL_GPIO_Init(SPI1_MISO_PORT, &GPIO_InitStruct);
  84:Src/spi.c     **** 
  85:Src/spi.c     ****     /* SPI1 interrupt Init */
  86:Src/spi.c     ****     HAL_NVIC_SetPriority(SPI1_INTERRUPT, 0, 0);
  87:Src/spi.c     ****     HAL_NVIC_EnableIRQ(SPI1_INTERRUPT);
ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 5


  88:Src/spi.c     ****   }
  89:Src/spi.c     **** }
 144              		.loc 1 89 1 view .LVU38
 145 0016 07B0     		add	sp, sp, #28
 146              	.LCFI3:
 147              		.cfi_remember_state
 148              		.cfi_def_cfa_offset 20
 149              		@ sp needed
 150 0018 F0BD     		pop	{r4, r5, r6, r7, pc}
 151              	.LVL4:
 152              	.L10:
 153              	.LCFI4:
 154              		.cfi_restore_state
  53:Src/spi.c     ****     SPI1_GPIO_CLK_ENABLE();
 155              		.loc 1 53 5 is_stmt 1 view .LVU39
 156              	.LBB2:
  53:Src/spi.c     ****     SPI1_GPIO_CLK_ENABLE();
 157              		.loc 1 53 5 view .LVU40
  53:Src/spi.c     ****     SPI1_GPIO_CLK_ENABLE();
 158              		.loc 1 53 5 view .LVU41
 159 001a 03F56043 		add	r3, r3, #57344
 160 001e 9A69     		ldr	r2, [r3, #24]
 161 0020 42F48052 		orr	r2, r2, #4096
 162 0024 9A61     		str	r2, [r3, #24]
  53:Src/spi.c     ****     SPI1_GPIO_CLK_ENABLE();
 163              		.loc 1 53 5 view .LVU42
 164 0026 9A69     		ldr	r2, [r3, #24]
 165 0028 02F48052 		and	r2, r2, #4096
 166 002c 0092     		str	r2, [sp]
  53:Src/spi.c     ****     SPI1_GPIO_CLK_ENABLE();
 167              		.loc 1 53 5 view .LVU43
 168 002e 009A     		ldr	r2, [sp]
 169              	.LBE2:
  53:Src/spi.c     ****     SPI1_GPIO_CLK_ENABLE();
 170              		.loc 1 53 5 view .LVU44
  54:Src/spi.c     **** 
 171              		.loc 1 54 5 view .LVU45
 172              	.LBB3:
  54:Src/spi.c     **** 
 173              		.loc 1 54 5 view .LVU46
  54:Src/spi.c     **** 
 174              		.loc 1 54 5 view .LVU47
 175 0030 9A69     		ldr	r2, [r3, #24]
 176 0032 42F00402 		orr	r2, r2, #4
 177 0036 9A61     		str	r2, [r3, #24]
  54:Src/spi.c     **** 
 178              		.loc 1 54 5 view .LVU48
 179 0038 9B69     		ldr	r3, [r3, #24]
 180 003a 03F00403 		and	r3, r3, #4
 181 003e 0193     		str	r3, [sp, #4]
  54:Src/spi.c     **** 
 182              		.loc 1 54 5 view .LVU49
 183 0040 019B     		ldr	r3, [sp, #4]
 184              	.LBE3:
  54:Src/spi.c     **** 
 185              		.loc 1 54 5 view .LVU50
  63:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 6


 186              		.loc 1 63 5 view .LVU51
  63:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 187              		.loc 1 63 25 is_stmt 0 view .LVU52
 188 0042 0426     		movs	r6, #4
 189 0044 0296     		str	r6, [sp, #8]
  64:Src/spi.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 190              		.loc 1 64 5 is_stmt 1 view .LVU53
  64:Src/spi.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 191              		.loc 1 64 26 is_stmt 0 view .LVU54
 192 0046 0127     		movs	r7, #1
 193 0048 0397     		str	r7, [sp, #12]
  65:Src/spi.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 194              		.loc 1 65 5 is_stmt 1 view .LVU55
  66:Src/spi.c     ****     HAL_GPIO_Init(RC522_CS_GPIO, &GPIO_InitStruct);
 195              		.loc 1 66 5 view .LVU56
  66:Src/spi.c     ****     HAL_GPIO_Init(RC522_CS_GPIO, &GPIO_InitStruct);
 196              		.loc 1 66 27 is_stmt 0 view .LVU57
 197 004a 0325     		movs	r5, #3
 198 004c 0595     		str	r5, [sp, #20]
  67:Src/spi.c     ****     HAL_GPIO_WritePin(RC522_CS_GPIO, RC522_CS_PIN, GPIO_PIN_SET);
 199              		.loc 1 67 5 is_stmt 1 view .LVU58
 200 004e 174C     		ldr	r4, .L11+4
 201 0050 02A9     		add	r1, sp, #8
 202 0052 2046     		mov	r0, r4
 203              	.LVL5:
  67:Src/spi.c     ****     HAL_GPIO_WritePin(RC522_CS_GPIO, RC522_CS_PIN, GPIO_PIN_SET);
 204              		.loc 1 67 5 is_stmt 0 view .LVU59
 205 0054 FFF7FEFF 		bl	HAL_GPIO_Init
 206              	.LVL6:
  68:Src/spi.c     **** 
 207              		.loc 1 68 5 is_stmt 1 view .LVU60
 208 0058 3A46     		mov	r2, r7
 209 005a 3146     		mov	r1, r6
 210 005c 2046     		mov	r0, r4
 211 005e FFF7FEFF 		bl	HAL_GPIO_WritePin
 212              	.LVL7:
  70:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 213              		.loc 1 70 5 view .LVU61
  70:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 214              		.loc 1 70 25 is_stmt 0 view .LVU62
 215 0062 2023     		movs	r3, #32
 216 0064 0293     		str	r3, [sp, #8]
  71:Src/spi.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 217              		.loc 1 71 5 is_stmt 1 view .LVU63
  71:Src/spi.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 218              		.loc 1 71 26 is_stmt 0 view .LVU64
 219 0066 0226     		movs	r6, #2
 220 0068 0396     		str	r6, [sp, #12]
  72:Src/spi.c     ****     HAL_GPIO_Init(SPI1_SCK_PORT, &GPIO_InitStruct);
 221              		.loc 1 72 5 is_stmt 1 view .LVU65
  72:Src/spi.c     ****     HAL_GPIO_Init(SPI1_SCK_PORT, &GPIO_InitStruct);
 222              		.loc 1 72 27 is_stmt 0 view .LVU66
 223 006a 0595     		str	r5, [sp, #20]
  73:Src/spi.c     **** 
 224              		.loc 1 73 5 is_stmt 1 view .LVU67
 225 006c 02A9     		add	r1, sp, #8
 226 006e 2046     		mov	r0, r4
ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 7


 227 0070 FFF7FEFF 		bl	HAL_GPIO_Init
 228              	.LVL8:
  75:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 229              		.loc 1 75 5 view .LVU68
  75:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 230              		.loc 1 75 25 is_stmt 0 view .LVU69
 231 0074 8023     		movs	r3, #128
 232 0076 0293     		str	r3, [sp, #8]
  76:Src/spi.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 233              		.loc 1 76 5 is_stmt 1 view .LVU70
  76:Src/spi.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 234              		.loc 1 76 26 is_stmt 0 view .LVU71
 235 0078 0396     		str	r6, [sp, #12]
  77:Src/spi.c     ****     HAL_GPIO_Init(SPI1_MOSI_PORT, &GPIO_InitStruct);
 236              		.loc 1 77 5 is_stmt 1 view .LVU72
  77:Src/spi.c     ****     HAL_GPIO_Init(SPI1_MOSI_PORT, &GPIO_InitStruct);
 237              		.loc 1 77 27 is_stmt 0 view .LVU73
 238 007a 0595     		str	r5, [sp, #20]
  78:Src/spi.c     **** 
 239              		.loc 1 78 5 is_stmt 1 view .LVU74
 240 007c 02A9     		add	r1, sp, #8
 241 007e 2046     		mov	r0, r4
 242 0080 FFF7FEFF 		bl	HAL_GPIO_Init
 243              	.LVL9:
  80:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
 244              		.loc 1 80 5 view .LVU75
  80:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
 245              		.loc 1 80 25 is_stmt 0 view .LVU76
 246 0084 4023     		movs	r3, #64
 247 0086 0293     		str	r3, [sp, #8]
  81:Src/spi.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 248              		.loc 1 81 5 is_stmt 1 view .LVU77
  81:Src/spi.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 249              		.loc 1 81 26 is_stmt 0 view .LVU78
 250 0088 0025     		movs	r5, #0
 251 008a 0395     		str	r5, [sp, #12]
  82:Src/spi.c     ****     HAL_GPIO_Init(SPI1_MISO_PORT, &GPIO_InitStruct);
 252              		.loc 1 82 5 is_stmt 1 view .LVU79
  82:Src/spi.c     ****     HAL_GPIO_Init(SPI1_MISO_PORT, &GPIO_InitStruct);
 253              		.loc 1 82 26 is_stmt 0 view .LVU80
 254 008c 0495     		str	r5, [sp, #16]
  83:Src/spi.c     **** 
 255              		.loc 1 83 5 is_stmt 1 view .LVU81
 256 008e 02A9     		add	r1, sp, #8
 257 0090 2046     		mov	r0, r4
 258 0092 FFF7FEFF 		bl	HAL_GPIO_Init
 259              	.LVL10:
  86:Src/spi.c     ****     HAL_NVIC_EnableIRQ(SPI1_INTERRUPT);
 260              		.loc 1 86 5 view .LVU82
 261 0096 2A46     		mov	r2, r5
 262 0098 2946     		mov	r1, r5
 263 009a 2320     		movs	r0, #35
 264 009c FFF7FEFF 		bl	HAL_NVIC_SetPriority
 265              	.LVL11:
  87:Src/spi.c     ****   }
 266              		.loc 1 87 5 view .LVU83
 267 00a0 2320     		movs	r0, #35
ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 8


 268 00a2 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 269              	.LVL12:
 270              		.loc 1 89 1 is_stmt 0 view .LVU84
 271 00a6 B6E7     		b	.L7
 272              	.L12:
 273              		.align	2
 274              	.L11:
 275 00a8 00300140 		.word	1073819648
 276 00ac 00080140 		.word	1073809408
 277              		.cfi_endproc
 278              	.LFE66:
 280              		.section	.text.HAL_SPI_MspDeInit,"ax",%progbits
 281              		.align	1
 282              		.global	HAL_SPI_MspDeInit
 283              		.syntax unified
 284              		.thumb
 285              		.thumb_func
 287              	HAL_SPI_MspDeInit:
 288              	.LVL13:
 289              	.LFB67:
  90:Src/spi.c     **** 
  91:Src/spi.c     **** void HAL_SPI_MspDeInit(SPI_HandleTypeDef *spiHandle)
  92:Src/spi.c     **** {
 290              		.loc 1 92 1 is_stmt 1 view -0
 291              		.cfi_startproc
 292              		@ args = 0, pretend = 0, frame = 0
 293              		@ frame_needed = 0, uses_anonymous_args = 0
  93:Src/spi.c     **** 
  94:Src/spi.c     ****   if (spiHandle->Instance == SPI1)
 294              		.loc 1 94 3 view .LVU86
 295              		.loc 1 94 16 is_stmt 0 view .LVU87
 296 0000 0268     		ldr	r2, [r0]
 297              		.loc 1 94 6 view .LVU88
 298 0002 0F4B     		ldr	r3, .L20
 299 0004 9A42     		cmp	r2, r3
 300 0006 00D0     		beq	.L19
 301 0008 7047     		bx	lr
 302              	.L19:
  92:Src/spi.c     **** 
 303              		.loc 1 92 1 view .LVU89
 304 000a 10B5     		push	{r4, lr}
 305              	.LCFI5:
 306              		.cfi_def_cfa_offset 8
 307              		.cfi_offset 4, -8
 308              		.cfi_offset 14, -4
  95:Src/spi.c     ****   {
  96:Src/spi.c     ****     /* Peripheral clock disable */
  97:Src/spi.c     ****     SPI1_CLK_DISABLE();
 309              		.loc 1 97 5 is_stmt 1 view .LVU90
 310 000c 0D4A     		ldr	r2, .L20+4
 311 000e 9369     		ldr	r3, [r2, #24]
 312 0010 23F48053 		bic	r3, r3, #4096
 313 0014 9361     		str	r3, [r2, #24]
  98:Src/spi.c     **** 
  99:Src/spi.c     ****     HAL_GPIO_DeInit(RC522_CS_GPIO, RC522_CS_PIN);
 314              		.loc 1 99 5 view .LVU91
 315 0016 0C4C     		ldr	r4, .L20+8
ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 9


 316 0018 0421     		movs	r1, #4
 317 001a 2046     		mov	r0, r4
 318              	.LVL14:
 319              		.loc 1 99 5 is_stmt 0 view .LVU92
 320 001c FFF7FEFF 		bl	HAL_GPIO_DeInit
 321              	.LVL15:
 100:Src/spi.c     ****     HAL_GPIO_DeInit(SPI1_SCK_PORT, SPI1_SCK_PIN);
 322              		.loc 1 100 5 is_stmt 1 view .LVU93
 323 0020 2021     		movs	r1, #32
 324 0022 2046     		mov	r0, r4
 325 0024 FFF7FEFF 		bl	HAL_GPIO_DeInit
 326              	.LVL16:
 101:Src/spi.c     ****     HAL_GPIO_DeInit(SPI1_MISO_PORT, SPI1_MISO_PIN);
 327              		.loc 1 101 5 view .LVU94
 328 0028 4021     		movs	r1, #64
 329 002a 2046     		mov	r0, r4
 330 002c FFF7FEFF 		bl	HAL_GPIO_DeInit
 331              	.LVL17:
 102:Src/spi.c     ****     HAL_GPIO_DeInit(SPI1_MOSI_PORT, SPI1_MOSI_PIN);
 332              		.loc 1 102 5 view .LVU95
 333 0030 8021     		movs	r1, #128
 334 0032 2046     		mov	r0, r4
 335 0034 FFF7FEFF 		bl	HAL_GPIO_DeInit
 336              	.LVL18:
 103:Src/spi.c     **** 
 104:Src/spi.c     ****     /* SPI1 interrupt Deinit */
 105:Src/spi.c     ****     HAL_NVIC_DisableIRQ(SPI1_INTERRUPT);
 337              		.loc 1 105 5 view .LVU96
 338 0038 2320     		movs	r0, #35
 339 003a FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 340              	.LVL19:
 106:Src/spi.c     ****   }
 107:Src/spi.c     **** }
 341              		.loc 1 107 1 is_stmt 0 view .LVU97
 342 003e 10BD     		pop	{r4, pc}
 343              	.L21:
 344              		.align	2
 345              	.L20:
 346 0040 00300140 		.word	1073819648
 347 0044 00100240 		.word	1073876992
 348 0048 00080140 		.word	1073809408
 349              		.cfi_endproc
 350              	.LFE67:
 352              		.section	.text.stm32_spi_write,"ax",%progbits
 353              		.align	1
 354              		.global	stm32_spi_write
 355              		.syntax unified
 356              		.thumb
 357              		.thumb_func
 359              	stm32_spi_write:
 360              	.LVL20:
 361              	.LFB68:
 108:Src/spi.c     **** 
 109:Src/spi.c     **** 
 110:Src/spi.c     **** 
 111:Src/spi.c     **** 
 112:Src/spi.c     **** int stm32_spi_write(uint8_t reg, uint8_t *data, uint8_t size)
ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 10


 113:Src/spi.c     **** {
 362              		.loc 1 113 1 is_stmt 1 view -0
 363              		.cfi_startproc
 364              		@ args = 0, pretend = 0, frame = 0
 365              		@ frame_needed = 1, uses_anonymous_args = 0
 366              		.loc 1 113 1 is_stmt 0 view .LVU99
 367 0000 B0B5     		push	{r4, r5, r7, lr}
 368              	.LCFI6:
 369              		.cfi_def_cfa_offset 16
 370              		.cfi_offset 4, -16
 371              		.cfi_offset 5, -12
 372              		.cfi_offset 7, -8
 373              		.cfi_offset 14, -4
 374 0002 00AF     		add	r7, sp, #0
 375              	.LCFI7:
 376              		.cfi_def_cfa_register 7
 377 0004 1446     		mov	r4, r2
 114:Src/spi.c     ****     uint8_t txBuffer[size + 1];
 378              		.loc 1 114 5 is_stmt 1 view .LVU100
 379              	.LVL21:
 380              		.loc 1 114 13 is_stmt 0 view .LVU101
 381 0006 02F10803 		add	r3, r2, #8
 382 000a 03F4FC73 		and	r3, r3, #504
 383 000e ADEB030D 		sub	sp, sp, r3
 384 0012 6D46     		mov	r5, sp
 385              	.LVL22:
 115:Src/spi.c     ****     
 116:Src/spi.c     ****     // First byte: Register address (MSB = 0 for write)
 117:Src/spi.c     ****     txBuffer[0] = (reg << 1) & 0x7E; // Ensure MSB is 0
 386              		.loc 1 117 5 is_stmt 1 view .LVU102
 387              		.loc 1 117 24 is_stmt 0 view .LVU103
 388 0014 4000     		lsls	r0, r0, #1
 389              	.LVL23:
 390              		.loc 1 117 30 view .LVU104
 391 0016 00F07E00 		and	r0, r0, #126
 392              		.loc 1 117 17 view .LVU105
 393 001a 8DF80000 		strb	r0, [sp]
 118:Src/spi.c     **** 
 119:Src/spi.c     ****     // Copy data to send buffer
 120:Src/spi.c     ****     for (uint8_t i = 0; i < size; i++)
 394              		.loc 1 120 5 is_stmt 1 view .LVU106
 395              	.LBB4:
 396              		.loc 1 120 10 view .LVU107
 397              	.LVL24:
 398              		.loc 1 120 18 is_stmt 0 view .LVU108
 399 001e 0023     		movs	r3, #0
 400              		.loc 1 120 5 view .LVU109
 401 0020 03E0     		b	.L23
 402              	.LVL25:
 403              	.L24:
 121:Src/spi.c     ****     {
 122:Src/spi.c     ****         txBuffer[i + 1] = data[i];
 404              		.loc 1 122 9 is_stmt 1 discriminator 3 view .LVU110
 405              		.loc 1 122 20 is_stmt 0 discriminator 3 view .LVU111
 406 0022 581C     		adds	r0, r3, #1
 407              		.loc 1 122 31 discriminator 3 view .LVU112
 408 0024 CB5C     		ldrb	r3, [r1, r3]	@ zero_extendqisi2
ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 11


 409              	.LVL26:
 410              		.loc 1 122 25 discriminator 3 view .LVU113
 411 0026 2B54     		strb	r3, [r5, r0]
 120:Src/spi.c     ****     {
 412              		.loc 1 120 36 is_stmt 1 discriminator 3 view .LVU114
 413 0028 C3B2     		uxtb	r3, r0
 414              	.LVL27:
 415              	.L23:
 120:Src/spi.c     ****     {
 416              		.loc 1 120 27 discriminator 1 view .LVU115
 417 002a A342     		cmp	r3, r4
 418 002c F9D3     		bcc	.L24
 419              	.LBE4:
 123:Src/spi.c     ****     }
 124:Src/spi.c     **** 
 125:Src/spi.c     ****     HAL_GPIO_WritePin(RC522_CS_GPIO, RC522_CS_PIN, GPIO_PIN_RESET);
 420              		.loc 1 125 5 view .LVU116
 421 002e 0022     		movs	r2, #0
 422              	.LVL28:
 423              		.loc 1 125 5 is_stmt 0 view .LVU117
 424 0030 0421     		movs	r1, #4
 425              	.LVL29:
 426              		.loc 1 125 5 view .LVU118
 427 0032 0D48     		ldr	r0, .L29
 428 0034 FFF7FEFF 		bl	HAL_GPIO_WritePin
 429              	.LVL30:
 126:Src/spi.c     **** 
 127:Src/spi.c     ****     if (HAL_SPI_Transmit(&hspi1, txBuffer, size + 1, HAL_MAX_DELAY) != HAL_OK)
 430              		.loc 1 127 5 is_stmt 1 view .LVU119
 431              		.loc 1 127 9 is_stmt 0 view .LVU120
 432 0038 4FF0FF33 		mov	r3, #-1
 433 003c 621C     		adds	r2, r4, #1
 434 003e 2946     		mov	r1, r5
 435 0040 0A48     		ldr	r0, .L29+4
 436 0042 FFF7FEFF 		bl	HAL_SPI_Transmit
 437              	.LVL31:
 438              		.loc 1 127 8 view .LVU121
 439 0046 38B9     		cbnz	r0, .L28
 128:Src/spi.c     ****     {
 129:Src/spi.c     ****         HAL_GPIO_WritePin(RC522_CS_GPIO, RC522_CS_PIN, GPIO_PIN_SET);
 130:Src/spi.c     ****         return -1; // Error
 131:Src/spi.c     ****     }
 132:Src/spi.c     **** 
 133:Src/spi.c     ****     // Pull CS high
 134:Src/spi.c     ****     HAL_GPIO_WritePin(RC522_CS_GPIO, RC522_CS_PIN, GPIO_PIN_SET);
 440              		.loc 1 134 5 is_stmt 1 view .LVU122
 441 0048 0122     		movs	r2, #1
 442 004a 0421     		movs	r1, #4
 443 004c 0648     		ldr	r0, .L29
 444 004e FFF7FEFF 		bl	HAL_GPIO_WritePin
 445              	.LVL32:
 135:Src/spi.c     **** 
 136:Src/spi.c     ****     return 0; // Success
 446              		.loc 1 136 5 view .LVU123
 447              		.loc 1 136 12 is_stmt 0 view .LVU124
 448 0052 0020     		movs	r0, #0
 449              	.L22:
ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 12


 137:Src/spi.c     **** }
 450              		.loc 1 137 1 view .LVU125
 451 0054 BD46     		mov	sp, r7
 452              	.LCFI8:
 453              		.cfi_remember_state
 454              		.cfi_def_cfa_register 13
 455              		@ sp needed
 456 0056 B0BD     		pop	{r4, r5, r7, pc}
 457              	.LVL33:
 458              	.L28:
 459              	.LCFI9:
 460              		.cfi_restore_state
 129:Src/spi.c     ****         return -1; // Error
 461              		.loc 1 129 9 is_stmt 1 view .LVU126
 462 0058 0122     		movs	r2, #1
 463 005a 0421     		movs	r1, #4
 464 005c 0248     		ldr	r0, .L29
 465 005e FFF7FEFF 		bl	HAL_GPIO_WritePin
 466              	.LVL34:
 130:Src/spi.c     ****     }
 467              		.loc 1 130 9 view .LVU127
 130:Src/spi.c     ****     }
 468              		.loc 1 130 16 is_stmt 0 view .LVU128
 469 0062 4FF0FF30 		mov	r0, #-1
 470 0066 F5E7     		b	.L22
 471              	.L30:
 472              		.align	2
 473              	.L29:
 474 0068 00080140 		.word	1073809408
 475 006c 00000000 		.word	hspi1
 476              		.cfi_endproc
 477              	.LFE68:
 479              		.section	.text.stm32_spi_read,"ax",%progbits
 480              		.align	1
 481              		.global	stm32_spi_read
 482              		.syntax unified
 483              		.thumb
 484              		.thumb_func
 486              	stm32_spi_read:
 487              	.LVL35:
 488              	.LFB69:
 138:Src/spi.c     **** 
 139:Src/spi.c     **** 
 140:Src/spi.c     **** int stm32_spi_read(uint8_t reg, uint8_t *data, uint8_t size)
 141:Src/spi.c     **** {
 489              		.loc 1 141 1 is_stmt 1 view -0
 490              		.cfi_startproc
 491              		@ args = 0, pretend = 0, frame = 8
 492              		@ frame_needed = 1, uses_anonymous_args = 0
 493              		.loc 1 141 1 is_stmt 0 view .LVU130
 494 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 495              	.LCFI10:
 496              		.cfi_def_cfa_offset 24
 497              		.cfi_offset 4, -24
 498              		.cfi_offset 5, -20
 499              		.cfi_offset 6, -16
 500              		.cfi_offset 7, -12
ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 13


 501              		.cfi_offset 8, -8
 502              		.cfi_offset 14, -4
 503 0004 82B0     		sub	sp, sp, #8
 504              	.LCFI11:
 505              		.cfi_def_cfa_offset 32
 506 0006 00AF     		add	r7, sp, #0
 507              	.LCFI12:
 508              		.cfi_def_cfa_register 7
 509 0008 0E46     		mov	r6, r1
 510 000a 1546     		mov	r5, r2
 142:Src/spi.c     ****     uint8_t txBuffer = ((reg << 1) & 0x7E) | 0x80; // MSB = 1 for read
 511              		.loc 1 142 5 is_stmt 1 view .LVU131
 512              		.loc 1 142 30 is_stmt 0 view .LVU132
 513 000c 4000     		lsls	r0, r0, #1
 514              	.LVL36:
 515              		.loc 1 142 36 view .LVU133
 516 000e 00F07E00 		and	r0, r0, #126
 517              		.loc 1 142 44 view .LVU134
 518 0012 40F08000 		orr	r0, r0, #128
 519              		.loc 1 142 13 view .LVU135
 520 0016 F871     		strb	r0, [r7, #7]
 143:Src/spi.c     ****     uint8_t rxBuffer[size];
 521              		.loc 1 143 5 is_stmt 1 view .LVU136
 522              	.LVL37:
 523              		.loc 1 143 13 is_stmt 0 view .LVU137
 524 0018 D31D     		adds	r3, r2, #7
 525 001a 03F4FC73 		and	r3, r3, #504
 526 001e ADEB030D 		sub	sp, sp, r3
 527              	.LVL38:
 144:Src/spi.c     **** 
 145:Src/spi.c     ****     // Pull CS low
 146:Src/spi.c     ****     HAL_GPIO_WritePin(RC522_CS_GPIO, RC522_CS_PIN, GPIO_PIN_RESET);
 528              		.loc 1 146 5 is_stmt 1 view .LVU138
 529 0022 0022     		movs	r2, #0
 530              	.LVL39:
 531              		.loc 1 146 5 is_stmt 0 view .LVU139
 532 0024 0421     		movs	r1, #4
 533              	.LVL40:
 534              		.loc 1 146 5 view .LVU140
 535 0026 1B48     		ldr	r0, .L40
 536 0028 FFF7FEFF 		bl	HAL_GPIO_WritePin
 537              	.LVL41:
 147:Src/spi.c     ****     
 148:Src/spi.c     ****     // Send register address
 149:Src/spi.c     ****     if (HAL_SPI_Transmit(&hspi1, &txBuffer, 1, HAL_MAX_DELAY) != HAL_OK)
 538              		.loc 1 149 5 is_stmt 1 view .LVU141
 539              		.loc 1 149 9 is_stmt 0 view .LVU142
 540 002c 4FF0FF33 		mov	r3, #-1
 541 0030 0122     		movs	r2, #1
 542 0032 F91D     		adds	r1, r7, #7
 543 0034 1848     		ldr	r0, .L40+4
 544 0036 FFF7FEFF 		bl	HAL_SPI_Transmit
 545              	.LVL42:
 546              		.loc 1 149 8 view .LVU143
 547 003a 78B9     		cbnz	r0, .L38
 548 003c E846     		mov	r8, sp
 150:Src/spi.c     ****     {
ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 14


 151:Src/spi.c     ****         HAL_GPIO_WritePin(RC522_CS_GPIO, RC522_CS_PIN, GPIO_PIN_SET);
 152:Src/spi.c     ****         return -1; // Error
 153:Src/spi.c     ****     }
 154:Src/spi.c     **** 
 155:Src/spi.c     ****     // Receive data
 156:Src/spi.c     ****     if (HAL_SPI_Receive(&hspi1, rxBuffer, size, HAL_MAX_DELAY) != HAL_OK)
 549              		.loc 1 156 5 is_stmt 1 view .LVU144
 550              		.loc 1 156 9 is_stmt 0 view .LVU145
 551 003e 4FF0FF33 		mov	r3, #-1
 552 0042 2A46     		mov	r2, r5
 553 0044 4146     		mov	r1, r8
 554 0046 1448     		ldr	r0, .L40+4
 555 0048 FFF7FEFF 		bl	HAL_SPI_Receive
 556              	.LVL43:
 557              		.loc 1 156 8 view .LVU146
 558 004c 0446     		mov	r4, r0
 559 004e 68B9     		cbnz	r0, .L39
 157:Src/spi.c     ****     {
 158:Src/spi.c     ****         HAL_GPIO_WritePin(RC522_CS_GPIO, RC522_CS_PIN, GPIO_PIN_SET);
 159:Src/spi.c     ****         return -1; // Error
 160:Src/spi.c     ****     }
 161:Src/spi.c     **** 
 162:Src/spi.c     ****     // Pull CS high
 163:Src/spi.c     ****     HAL_GPIO_WritePin(RC522_CS_GPIO, RC522_CS_PIN, GPIO_PIN_SET);
 560              		.loc 1 163 5 is_stmt 1 view .LVU147
 561 0050 0122     		movs	r2, #1
 562 0052 0421     		movs	r1, #4
 563 0054 0F48     		ldr	r0, .L40
 564 0056 FFF7FEFF 		bl	HAL_GPIO_WritePin
 565              	.LVL44:
 164:Src/spi.c     **** 
 165:Src/spi.c     ****     // Copy received data
 166:Src/spi.c     ****     for (uint8_t i = 0; i < size; i++)
 566              		.loc 1 166 5 view .LVU148
 567              	.LBB5:
 568              		.loc 1 166 10 view .LVU149
 569              		.loc 1 166 5 is_stmt 0 view .LVU150
 570 005a 14E0     		b	.L35
 571              	.LVL45:
 572              	.L38:
 573              		.loc 1 166 5 view .LVU151
 574              	.LBE5:
 151:Src/spi.c     ****         return -1; // Error
 575              		.loc 1 151 9 is_stmt 1 view .LVU152
 576 005c 0122     		movs	r2, #1
 577 005e 0421     		movs	r1, #4
 578 0060 0C48     		ldr	r0, .L40
 579 0062 FFF7FEFF 		bl	HAL_GPIO_WritePin
 580              	.LVL46:
 152:Src/spi.c     ****     }
 581              		.loc 1 152 9 view .LVU153
 152:Src/spi.c     ****     }
 582              		.loc 1 152 16 is_stmt 0 view .LVU154
 583 0066 4FF0FF30 		mov	r0, #-1
 584 006a 0FE0     		b	.L31
 585              	.LVL47:
 586              	.L39:
ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 15


 158:Src/spi.c     ****         return -1; // Error
 587              		.loc 1 158 9 is_stmt 1 view .LVU155
 588 006c 0122     		movs	r2, #1
 589 006e 0421     		movs	r1, #4
 590 0070 0848     		ldr	r0, .L40
 591 0072 FFF7FEFF 		bl	HAL_GPIO_WritePin
 592              	.LVL48:
 159:Src/spi.c     ****     }
 593              		.loc 1 159 9 view .LVU156
 159:Src/spi.c     ****     }
 594              		.loc 1 159 16 is_stmt 0 view .LVU157
 595 0076 4FF0FF30 		mov	r0, #-1
 596 007a 07E0     		b	.L31
 597              	.LVL49:
 598              	.L36:
 599              	.LBB6:
 167:Src/spi.c     ****     {
 168:Src/spi.c     ****         data[i] = rxBuffer[i];
 600              		.loc 1 168 9 is_stmt 1 discriminator 3 view .LVU158
 601              		.loc 1 168 27 is_stmt 0 discriminator 3 view .LVU159
 602 007c 18F80430 		ldrb	r3, [r8, r4]	@ zero_extendqisi2
 603              		.loc 1 168 17 discriminator 3 view .LVU160
 604 0080 3355     		strb	r3, [r6, r4]
 166:Src/spi.c     ****     {
 605              		.loc 1 166 36 is_stmt 1 discriminator 3 view .LVU161
 606 0082 0134     		adds	r4, r4, #1
 607              	.LVL50:
 166:Src/spi.c     ****     {
 608              		.loc 1 166 36 is_stmt 0 discriminator 3 view .LVU162
 609 0084 E4B2     		uxtb	r4, r4
 610              	.LVL51:
 611              	.L35:
 166:Src/spi.c     ****     {
 612              		.loc 1 166 27 is_stmt 1 discriminator 1 view .LVU163
 613 0086 AC42     		cmp	r4, r5
 614 0088 F8D3     		bcc	.L36
 615              	.LBE6:
 169:Src/spi.c     ****     }
 170:Src/spi.c     **** 
 171:Src/spi.c     ****     return 0; // Success
 616              		.loc 1 171 12 is_stmt 0 view .LVU164
 617 008a 0020     		movs	r0, #0
 618              	.LVL52:
 619              	.L31:
 172:Src/spi.c     **** }...
 620              		.loc 1 172 1 view .LVU165
 621 008c 0837     		adds	r7, r7, #8
 622              	.LCFI13:
 623              		.cfi_def_cfa_offset 24
 624 008e BD46     		mov	sp, r7
 625              	.LCFI14:
 626              		.cfi_def_cfa_register 13
 627              	.LVL53:
 628              		.loc 1 172 1 view .LVU166
 629              		@ sp needed
 630 0090 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 631              	.LVL54:
ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 16


 632              	.L41:
 633              		.loc 1 172 1 view .LVU167
 634              		.align	2
 635              	.L40:
 636 0094 00080140 		.word	1073809408
 637 0098 00000000 		.word	hspi1
 638              		.cfi_endproc
 639              	.LFE69:
 641              		.global	hspi1
 642              		.section	.bss.hspi1,"aw",%nobits
 643              		.align	2
 646              	hspi1:
 647 0000 00000000 		.space	88
 647      00000000 
 647      00000000 
 647      00000000 
 647      00000000 
 648              		.text
 649              	.Letext0:
 650              		.file 2 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103x6.h"
 651              		.file 3 "C:\\ST\\STM32CubeCLT_1.17.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/..
 652              		.file 4 "C:\\ST\\STM32CubeCLT_1.17.0\\GNU-tools-for-STM32\\bin\\../lib/gcc/arm-none-eabi/12.3.1/..
 653              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 654              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 655              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 656              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_spi.h"
 657              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_cortex.h"
 658              		.file 10 "Src/../Inc/spi.h"
 659              		.file 11 "Src/../Inc/main.h"
ARM GAS  C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s 			page 17


DEFINED SYMBOLS
                            *ABS*:00000000 spi.c
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:19     .text.MX_SPI1_Init:00000000 $t
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:25     .text.MX_SPI1_Init:00000000 MX_SPI1_Init
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:97     .text.MX_SPI1_Init:0000003c $d
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:646    .bss.hspi1:00000000 hspi1
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:103    .text.HAL_SPI_MspInit:00000000 $t
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:109    .text.HAL_SPI_MspInit:00000000 HAL_SPI_MspInit
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:275    .text.HAL_SPI_MspInit:000000a8 $d
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:281    .text.HAL_SPI_MspDeInit:00000000 $t
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:287    .text.HAL_SPI_MspDeInit:00000000 HAL_SPI_MspDeInit
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:346    .text.HAL_SPI_MspDeInit:00000040 $d
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:353    .text.stm32_spi_write:00000000 $t
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:359    .text.stm32_spi_write:00000000 stm32_spi_write
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:474    .text.stm32_spi_write:00000068 $d
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:480    .text.stm32_spi_read:00000000 $t
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:486    .text.stm32_spi_read:00000000 stm32_spi_read
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:636    .text.stm32_spi_read:00000094 $d
C:\Users\binhp\AppData\Local\Temp\ccpKFFTj.s:643    .bss.hspi1:00000000 $d

UNDEFINED SYMBOLS
HAL_SPI_Init
Error_Handler
HAL_GPIO_Init
HAL_GPIO_WritePin
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_GPIO_DeInit
HAL_NVIC_DisableIRQ
HAL_SPI_Transmit
HAL_SPI_Receive
